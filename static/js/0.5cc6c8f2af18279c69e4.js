webpackJsonp([0],{SA7c:function(n,i){},wUZA:function(n,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e={data:function(){return{cango:0,ddd:"+62",phone:"",btnName:"Kirim ulang"}},mounted:function(){var n=this;this.appVerifier(),this.$vux.loading.show({text:"Loading"}),document.addEventListener("message",function(i){n.phone=i.data,n.$vux.loading.hide()})},methods:{go:function(){"Kirim ulang"==this.btnName&&(this.cango=0,this.$vux.loading.show({text:"Loading"}),this.onSignInSubmit(this.phone))},login:function(){var n=this;this.$vux.loading.show({text:"Loading"});try{confirmationResult.confirm(document.getElementById("input").value).then(function(i){n.$vux.loading.hide(),window.webView.postMessage(i.user.uid)}).catch(function(i){n.$vux.loading.hide(),n.$vux.toast.text(i,"bottom")})}catch(n){console.log("login-error"),this.$vux.loading.hide()}},appVerifier:function(){var n=this;window.recaptchaVerifier=new firebase.auth.RecaptchaVerifier("go",{size:"invisible",callback:function(i){console.log(i),n.cango++,n.$vux.loading.hide()},"expired-callback":function(){console.log("expired-callback"),n.cango=0,n.$vux.loading.hide(),n.onSignInSubmit(n.phone)}})},onSignInSubmit:function(n){var i=this;n=this.ddd+""+n;try{var t=window.recaptchaVerifier;this.cango<1?(this.$vux.loading.show({text:"Loading"}),firebase.auth().signInWithPhoneNumber(n,t).then(function(n){i.$vux.toast.text("SMS berhasil dikirim","bottom");var t=setInterval(function(){"Kirim ulang"==i.btnName?i.btnName=60:0==i.btnName?(i.btnName="Kirim ulang",clearInterval(t)):i.btnName--},1e3);i.$vux.loading.hide(),window.confirmationResult=n}).catch(function(n){console.log(n),i.$vux.loading.hide(),i.cango=0,i.$vux.toast.text("Silakan coba lagi","bottom"),console.log("onSignInSubmit-error")})):this.appVerifier()}catch(n){this.appVerifier()}}}},o={render:function(){var n=this,i=n.$createElement,t=n._self._c||i;return t("div",[t("div",{staticClass:"phone"},[n._v("\n    "+n._s(n.ddd)+" "+n._s(n.phone)+"\n  ")]),n._v(" "),t("input",{attrs:{type:"number",id:"input",placeholder:"kode verifikasi SMS",maxlength:"8"}}),n._v(" "),t("div",{staticClass:"btn",on:{click:n.go}},[n._v("\n    "+n._s(n.btnName)+"\n  ")]),n._v(" "),t("div",{staticClass:"btn",on:{click:function(i){return n.login()}}},[n._v("\n    Login\n  ")]),n._v(" "),t("div",{attrs:{id:"go"}}),n._v(" "),t("div",{staticClass:"change",on:{click:function(i){n.ddd="+86"}}})])},staticRenderFns:[]};var a=t("C7Lr")(e,o,!1,function(n){t("SA7c")},"data-v-42c3d5bd",null);i.default=a.exports}});